<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Teste MindAR Simples</title>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.1.4/dist/mindar-image.prod.js"></script>
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.1.4/dist/mindar-image-aframe.prod.js"></script>
  <style>
    html, body {
      margin:0; padding:0; overflow:hidden; background:black;
      height:100%; width:100%;
    }
    a-scene {
      position:absolute; top:0; left:0; height:100% !important; width:100% !important;
    }
  </style>
</head>
<body>
  <a-scene mindar-image="imageTargetSrc: assets/target.mind;" embedded vr-mode-ui="enabled:false" device-orientation-permission-ui="enabled:true">
    <a-camera position="0 0 0" look-controls="enabled:false"></a-camera>
    <a-entity mindar-image-target="targetIndex: 0" id="container" position="0 0 -0.5">
    </a-entity>
  </a-scene>

  <script>
    const nomes = [
      "Leitor Alfa",
      "Apoiadora Beta",
      "Colaborador Gama",
      "Supervisor Delta",
      "Parceiro Ã‰psilon"
    ];

    const container = document.querySelector("#container");
    let i = 0;

    function typeWriter(text, element, pos = 0, callback) {
      if (pos <= text.length) {
        element.setAttribute("value", text.substring(0, pos));
        setTimeout(() => typeWriter(text, element, pos + 1, callback), 100);
      } else {
        if (callback) callback();
      }
    }

    function showNext() {
      if(i >= nomes.length) return;

      const el = document.createElement("a-text");
      el.setAttribute("value", "");
      el.setAttribute("color", "yellow");
      el.setAttribute("align", "center");
      el.setAttribute("position", `0 ${0.3 - i*0.3} 0`);
      el.setAttribute("scale", "0.8 0.8 0.8");

      container.appendChild(el);

      typeWriter(nomes[i], el, 0, () => {
        i++;
        setTimeout(showNext, 500);
      });
    }

    showNext();
  </script>
</body>
</html>
